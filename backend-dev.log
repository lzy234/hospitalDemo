正在安装后端依赖...
Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
Requirement already satisfied: flask==2.3.3 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (2.3.3)
Requirement already satisfied: flask-cors==4.0.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (4.0.0)
Requirement already satisfied: cozepy in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (0.16.2)
Requirement already satisfied: python-dotenv==1.0.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (1.0.0)
Requirement already satisfied: gunicorn==21.2.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from -r requirements.txt (line 5)) (21.2.0)
Requirement already satisfied: Werkzeug>=2.3.7 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from flask==2.3.3->-r requirements.txt (line 1)) (3.1.3)
Requirement already satisfied: Jinja2>=3.1.2 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from flask==2.3.3->-r requirements.txt (line 1)) (3.1.4)
Requirement already satisfied: itsdangerous>=2.1.2 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from flask==2.3.3->-r requirements.txt (line 1)) (2.2.0)
Requirement already satisfied: click>=8.1.3 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from flask==2.3.3->-r requirements.txt (line 1)) (8.2.1)
Requirement already satisfied: blinker>=1.6.2 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from flask==2.3.3->-r requirements.txt (line 1)) (1.9.0)
Requirement already satisfied: packaging in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from gunicorn==21.2.0->-r requirements.txt (line 5)) (24.1)
Requirement already satisfied: authlib<2.0.0,>=1.2.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from cozepy->-r requirements.txt (line 3)) (1.6.0)
Requirement already satisfied: distro<2.0.0,>=1.9.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from cozepy->-r requirements.txt (line 3)) (1.9.0)
Requirement already satisfied: httpx<0.28.0,>=0.27.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from cozepy->-r requirements.txt (line 3)) (0.27.2)
Requirement already satisfied: pydantic<3.0.0,>=2.5.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from cozepy->-r requirements.txt (line 3)) (2.10.6)
Requirement already satisfied: typing-extensions<5.0.0,>=4.3.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from cozepy->-r requirements.txt (line 3)) (4.12.2)
Requirement already satisfied: websockets<15.0.0,>=14.1.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from cozepy->-r requirements.txt (line 3)) (14.2)
Requirement already satisfied: cryptography in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from authlib<2.0.0,>=1.2.0->cozepy->-r requirements.txt (line 3)) (45.0.4)
Requirement already satisfied: anyio in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from httpx<0.28.0,>=0.27.0->cozepy->-r requirements.txt (line 3)) (4.9.0)
Requirement already satisfied: certifi in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from httpx<0.28.0,>=0.27.0->cozepy->-r requirements.txt (line 3)) (2024.8.30)
Requirement already satisfied: httpcore==1.* in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from httpx<0.28.0,>=0.27.0->cozepy->-r requirements.txt (line 3)) (1.0.9)
Requirement already satisfied: idna in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from httpx<0.28.0,>=0.27.0->cozepy->-r requirements.txt (line 3)) (3.10)
Requirement already satisfied: sniffio in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from httpx<0.28.0,>=0.27.0->cozepy->-r requirements.txt (line 3)) (1.3.1)
Requirement already satisfied: h11>=0.16 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from httpcore==1.*->httpx<0.28.0,>=0.27.0->cozepy->-r requirements.txt (line 3)) (0.16.0)
Requirement already satisfied: MarkupSafe>=2.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from Jinja2>=3.1.2->flask==2.3.3->-r requirements.txt (line 1)) (3.0.2)
Requirement already satisfied: annotated-types>=0.6.0 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from pydantic<3.0.0,>=2.5.0->cozepy->-r requirements.txt (line 3)) (0.7.0)
Requirement already satisfied: pydantic-core==2.27.2 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from pydantic<3.0.0,>=2.5.0->cozepy->-r requirements.txt (line 3)) (2.27.2)
Requirement already satisfied: cffi>=1.14 in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from cryptography->authlib<2.0.0,>=1.2.0->cozepy->-r requirements.txt (line 3)) (1.17.1)
Requirement already satisfied: pycparser in /Users/zhengjiaye/miniforge3/lib/python3.12/site-packages (from cffi>=1.14->cryptography->authlib<2.0.0,>=1.2.0->cozepy->-r requirements.txt (line 3)) (2.22)
后端依赖安装完成，启动服务...
配置文件加载成功
Coze客户端初始化成功
 * Serving Flask app 'app'
 * Debug mode: on
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.50.101:5000
Press CTRL+C to quit
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: 775-762-069
127.0.0.1 - - [26/Jun/2025 14:11:08] "GET /api/config HTTP/1.1" 200 -
127.0.0.1 - - [26/Jun/2025 14:11:08] "GET /api/config HTTP/1.1" 200 -
127.0.0.1 - - [26/Jun/2025 14:11:26] "POST /api/upload/mock HTTP/1.1" 200 -
127.0.0.1 - - [26/Jun/2025 14:11:30] "POST /api/analysis/mock HTTP/1.1" 200 -
[cozepy][WARNING][2025-06-26 14:11:35] request POST#https://api.coze.cn/v3/chat failed, logid=2025062614113530F7FD4D2C40A225F897, code=4101, msg=Your token does not have permission to access bot_id 7519906707460898851 chat. Please verify whether the resource ID or token is correct, and ensure that the necessary permissions are enabled at https://coze.cn/open/oauth/pats. For further details, please refer to the documentation at https://coze.cn/docs/developer_guides/authentication
127.0.0.1 - - [26/Jun/2025 14:11:35] "POST /api/chat/stream HTTP/1.1" 200 -
127.0.0.1 - - [26/Jun/2025 14:16:42] "POST /api/chat/stream HTTP/1.1" 200 -
/Users/zhengjiaye/miniforge3/lib/python3.12/multiprocessing/resource_tracker.py:254: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
